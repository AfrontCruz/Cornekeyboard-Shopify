{% schema %}
{
  "name": "Swiper Slider",
  "settings": [],
  "blocks": [
    {"type":"slide","name":"Slide","settings":[
      {"type":"image_picker","id":"desktop_image","label":"Imagen escritorio"},
      {"type":"image_picker","id":"mobile_image","label":"Imagen m√≥vil"},
      {"type":"text","id":"alt_text","label":"Texto alt","default":"Slide"}
    ]}
  ],
  "presets":[{"name":"Swiper Slider","category":"Media"}]
}
{% endschema %}

{% stylesheet %}
<style>
  .swiper { width:100vw; max-height:600px; aspect-ratio:16/9; margin:0 auto; }
  @media(max-width:767px){ .swiper { max-height:1000px; aspect-ratio:auto; } }
  .swiper-slide img { width:100%; height:100%; object-fit:cover; display:block; }
</style>
{% endstylesheet %}

<div class="swiper mySwiper">
  <div class="swiper-wrapper">
    {% for block in section.blocks %}
      <div class="swiper-slide">
        <picture>
          {% if block.settings.mobile_image %}
            <source media="(max-width:767px)" srcset="{{ block.settings.mobile_image | image_url: width:700 }}">
          {% endif %}
          {% if block.settings.desktop_image %}
            <source media="(min-width:768px)" srcset="{{ block.settings.desktop_image | image_url: width:1200 }}">
            <img src="{{ block.settings.desktop_image | image_url: width:1200 }}" alt="{{ block.settings.alt_text }}">
          {% endif %}
        </picture>
      </div>
    {% endfor %}
  </div>
  <div class="swiper-button-next"></div>
  <div class="swiper-button-prev"></div>
  <div class="swiper-pagination"></div>
</div>

{% render 'swiper-init' %}
